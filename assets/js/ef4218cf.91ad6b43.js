(self.webpackChunkdev_portal=self.webpackChunkdev_portal||[]).push([[6823],{36742:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var a=n(63366),r=n(67294),i=n(73727),s=n(52263),o=n(13919),c=n(10412),l=(0,r.createContext)({collectLink:function(){}}),u=n(44996),d=n(18780),p=["isNavLink","to","href","activeClassName","isActive","data-noBrokenLinkCheck","autoAddBaseUrl"];var m=function(e){var t,n,m=e.isNavLink,h=e.to,v=e.href,f=e.activeClassName,k=e.isActive,g=e["data-noBrokenLinkCheck"],N=e.autoAddBaseUrl,y=void 0===N||N,w=(0,a.Z)(e,p),b=(0,s.Z)().siteConfig,x=b.trailingSlash,C=b.baseUrl,T=(0,u.C)().withBaseUrl,A=(0,r.useContext)(l),_=h||v,I=(0,o.Z)(_),E=null==_?void 0:_.replace("pathname://",""),S=void 0!==E?(n=E,y&&function(e){return e.startsWith("/")}(n)?T(n):n):void 0;S&&I&&(S=(0,d.applyTrailingSlash)(S,{trailingSlash:x,baseUrl:C}));var O,P=(0,r.useRef)(!1),U=m?i.OL:i.rU,R=c.Z.canUseIntersectionObserver;(0,r.useEffect)((function(){return!R&&I&&null!=S&&window.docusaurus.prefetch(S),function(){R&&O&&O.disconnect()}}),[S,R,I]);var q=null!==(t=null==S?void 0:S.startsWith("#"))&&void 0!==t&&t,V=!S||!I||q;return S&&I&&!q&&!g&&A.collectLink(S),V?r.createElement("a",Object.assign({href:S},_&&!I&&{target:"_blank",rel:"noopener noreferrer"},w)):r.createElement(U,Object.assign({},w,{onMouseEnter:function(){P.current||null==S||(window.docusaurus.preload(S),P.current=!0)},innerRef:function(e){var t,n;R&&e&&I&&(t=e,n=function(){null!=S&&window.docusaurus.prefetch(S)},(O=new window.IntersectionObserver((function(e){e.forEach((function(e){t===e.target&&(e.isIntersecting||e.intersectionRatio>0)&&(O.unobserve(t),O.disconnect(),n())}))}))).observe(t))},to:S||""},m&&{isActive:k,activeClassName:f}))}},13919:function(e,t,n){"use strict";function a(e){return!0===/^(\w*:|\/\/)/.test(e)}function r(e){return void 0!==e&&!a(e)}n.d(t,{b:function(){return a},Z:function(){return r}})},44996:function(e,t,n){"use strict";n.d(t,{C:function(){return i},Z:function(){return s}});var a=n(52263),r=n(13919);function i(){var e=(0,a.Z)().siteConfig,t=(e=void 0===e?{}:e).baseUrl,n=void 0===t?"/":t,i=e.url;return{withBaseUrl:function(e,t){return function(e,t,n,a){var i=void 0===a?{}:a,s=i.forcePrependBaseUrl,o=void 0!==s&&s,c=i.absolute,l=void 0!==c&&c;if(!n)return n;if(n.startsWith("#"))return n;if((0,r.b)(n))return n;if(o)return t+n;var u=n.startsWith(t)?n:t+n.replace(/^\//,"");return l?e+u:u}(i,n,e,t)}}}function s(e,t){return void 0===t&&(t={}),(0,i().withBaseUrl)(e,t)}},8802:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t.trailingSlash,a=t.baseUrl;if(e.startsWith("#"))return e;if(void 0===n)return e;var r,i=e.split(/[#?]/)[0],s="/"===i||i===a?i:(r=i,n?function(e){return e.endsWith("/")?e:e+"/"}(r):function(e){return e.endsWith("/")?e.slice(0,-1):e}(r));return e.replace(i,s)}},18780:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.uniq=t.applyTrailingSlash=void 0;var r=n(8802);Object.defineProperty(t,"applyTrailingSlash",{enumerable:!0,get:function(){return a(r).default}});var i=n(29964);Object.defineProperty(t,"uniq",{enumerable:!0,get:function(){return a(i).default}})},29964:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Array.from(new Set(e))}},35722:function(e,t,n){"use strict";n.d(t,{G:function(){return o}});var a=n(67294),r=n(21140),i=n.n(r),s='Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"';function o(e){var t=e.chart;return(0,a.useEffect)((function(){i().contentLoaded()}),[]),a.createElement("div",{className:"mermaid"},t)}i().initialize({fontFamily:s,gantt:{fontFamily:s},sequence:{actorFontFamily:s,messageFontFamily:s,messageFontWeight:100,noteFontFamily:s,showSequenceNumbers:!0},startOnLoad:!0})},73773:function(e,t,n){"use strict";n.d(t,{a:function(){return r}});var a=n(67294);function r(){return a.createElement(a.Fragment,null,"Your Vertex client secret is sensitive and must be kept secure at all times. You should ",a.createElement("strong",null,"never")," include it in client-side web applications.")}},4947:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var a=n(67294),r=n(36742);function i(){return a.createElement(a.Fragment,null,"The following instructions assume:",a.createElement("ul",null,a.createElement("li",null,"You"," ",a.createElement(r.Z,{href:"https://account.vertexvis.com/signup"},"created a free developer account"),"."),a.createElement("li",null,"You created credentials in the"," ",a.createElement(r.Z,{href:"https://console.vertexvis.com/getting-started"},"Vertex Console")," ","and have your Vertex client ID and secret.")))}},28954:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return p},contentTitle:function(){return m},metadata:function(){return h},toc:function(){return v},default:function(){return k}});var a=n(87462),r=n(63366),i=(n(67294),n(3905)),s=n(35722),o=n(73773),c=n(4947),l=n(55064),u=n(58215),d=["components"],p={id:"authentication",title:"Authentication",description:"Gain secure access to Vertex platform APIs and SDKs."},m=void 0,h={unversionedId:"guides/authentication",id:"guides/authentication",isDocsHomePage:!1,title:"Authentication",description:"Gain secure access to Vertex platform APIs and SDKs.",source:"@site/docs/guides/authentication.mdx",sourceDirName:"guides",slug:"/guides/authentication",permalink:"/docs/guides/authentication",editUrl:"https://github.com/Vertexvis/dev-portal/tree/main/docs/guides/authentication.mdx",tags:[],version:"current",frontMatter:{id:"authentication",title:"Authentication",description:"Gain secure access to Vertex platform APIs and SDKs."},sidebar:"guidesSidebar",previous:{title:"Postman quick start",permalink:"/docs/guides/postman-quick-start"},next:{title:"Import data",permalink:"/docs/guides/import-data-with-api"}},v=[{value:"Creating access tokens",id:"creating-access-tokens",children:[]},{value:"Using access tokens",id:"using-access-tokens",children:[]},{value:"Viewer component",id:"viewer-component",children:[]}],f={toc:v};function k(e){var t=e.components,n=(0,r.Z)(e,d);return(0,i.kt)("wrapper",(0,a.Z)({},f,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)(c.R,{mdxType:"SignUpNote"}))),(0,i.kt)("p",null,"Gain secure access to the Vertex APIs by exchanging OAuth 2.0 credentials for an access token."),(0,i.kt)("p",null,"The flow is as follows:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Your application makes a secure HTTP call, providing its credentials. You receive an access token in response."),(0,i.kt)("li",{parentName:"ul"},"When making subsequent Vertex API calls, your application includes the access token.")),(0,i.kt)(s.G,{chart:"\n  sequenceDiagram\n  participant CF as Client App Frontend\n  participant C as Client App\n  participant V as Vertex API clients\n  participant API as Vertex API\n    CF->>+C: Authenticate\n    C->>+API: Request token with credentials\n    API--\x3e>-C: Token response\n    C--\x3e>-CF: Token\n    CF->>+V: API client call with token\n    V--\x3e>-CF: API client response\n    C->>+API: API request with token\n    API--\x3e>-C: API response\n",mdxType:"Mermaid"}),(0,i.kt)("h2",{id:"creating-access-tokens"},"Creating access tokens"),(0,i.kt)("p",null,"To create an access token, ",(0,i.kt)("inlineCode",{parentName:"p"},"POST")," to the ",(0,i.kt)("a",{parentName:"p",href:"https://docs.vertexvis.com/#f8c5dc19-0f68-442e-8d28-aa03be2c48fb"},"createToken")," API with your credentials. The token API uses HTTP basic access authentication. The request contains the ",(0,i.kt)("inlineCode",{parentName:"p"},"Authorization: Basic [YOUR_CREDENTIALS]")," header, where ",(0,i.kt)("inlineCode",{parentName:"p"},"YOUR_CREDENTIALS")," is the Base64 encoding of your Vertex client ID and secret joined by a colon. The following command performs this encoding and creates an access token."),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)(o.a,{mdxType:"ProtectSecretNote"}))),(0,i.kt)(l.Z,{defaultValue:"req",values:[{label:"Request",value:"req"},{label:"Response",value:"res"}],mdxType:"Tabs"},(0,i.kt)(u.Z,{value:"req",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},'curl --location --request POST \\\n  // highlight-next-line\n  --url "https://platform.vertexvis.com/oauth2/token" \\\n  --header "Authorization: Basic $(echo -n "[YOUR_CLIENT_ID]:[YOUR_CLIENT_SECRET]" | base64)" \\\n  --header "Content-Type: application/x-www-form-urlencoded" \\\n  --data-urlencode "grant_type=client_credentials"\n'))),(0,i.kt)(u.Z,{value:"res",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  // highlight-next-line\n  "access_token": "[YOUR_ACCESS_TOKEN]",\n  "account_id": "[YOUR_ACCOUNT_ID]",\n  "expires_in": 3600,\n  "scopes": [],\n  "token_type": "bearer"\n}\n')))),(0,i.kt)("h2",{id:"using-access-tokens"},"Using access tokens"),(0,i.kt)("p",null,"Access tokens are valid for one hour. Include them as a bearer token in the ",(0,i.kt)("inlineCode",{parentName:"p"},"Authorization")," header for subsequent API calls."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},'curl --location --request GET \\\n  --url "https://platform.vertexvis.com/files" \\\n  // highlight-next-line\n  --header "Authorization: Bearer [YOUR_ACCESS_TOKEN]"\n')),(0,i.kt)("h2",{id:"viewer-component"},"Viewer component"),(0,i.kt)("p",null,"The Viewer component authenticates using stream keys. These keys grant access to specific scenes, so you'll need one first. If you don't have one, create one by following the ",(0,i.kt)("a",{parentName:"p",href:"/docs/guides/import-data"},"Import data")," and ",(0,i.kt)("a",{parentName:"p",href:"/docs/guides/render-static-scenes"},"Render static scenes")," guides. Then, to create a stream key, ",(0,i.kt)("inlineCode",{parentName:"p"},"POST")," to the ",(0,i.kt)("a",{parentName:"p",href:"https://docs.vertexvis.com/#dd9c119e-5808-4bc5-8aeb-afc1ca34362d"},"createSceneStreamKey")," API."),(0,i.kt)(l.Z,{defaultValue:"req",values:[{label:"Request",value:"req"},{label:"Response",value:"res"}],mdxType:"Tabs"},(0,i.kt)(u.Z,{value:"req",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},'curl --location --request POST \\\n  // highlight-next-line\n  --url "https://platform.vertexvis.com/scenes/[YOUR_SCENE_ID]/stream-keys" \\\n  --header "Authorization: Bearer [YOUR_ACCESS_TOKEN]" \\\n  --header "Content-Type: application/vnd.api+json" \\\n  --data \'{\n  "data": {\n    "attributes": {\n      "expiry": 600\n    },\n    "type": "stream-key"\n  }\n}\'\n'))),(0,i.kt)(u.Z,{value:"res",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "attributes": {\n      // highlight-next-line\n      "key": "[YOUR_STREAM_KEY]",\n      "expiry": 600\n    },\n    "id": "[YOUR_STREAM_KEY_ID]",\n    "relationships": {\n      "scene": {\n        "data": {\n          "id": "[YOUR_SCENE_ID]",\n          "type": "scene"\n        }\n      }\n    },\n    "type": "stream-key"\n  }\n}\n')))),(0,i.kt)("p",null,"Now, pass the stream key to the ",(0,i.kt)("inlineCode",{parentName:"p"},"viewer.load")," method in the Viewer component."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"async function main() {\n  const viewer = document.querySelector('vertex-viewer');\n  // highlight-next-line\n  await viewer.load('urn:vertexvis:stream-key:[YOUR_STREAM_KEY]');\n}\n")))}k.isMDXComponent=!0},11748:function(e,t,n){var a={"./locale":89234,"./locale.js":89234};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=11748}}]);