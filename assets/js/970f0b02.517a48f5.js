(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{105:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return c})),t.d(n,"metadata",(function(){return l})),t.d(n,"toc",(function(){return d})),t.d(n,"default",(function(){return p}));var a=t(3),i=t(7),r=(t(0),t(131)),o=t(141),s=t(142),c={id:"sdk-xamarin-getting-started",title:"Getting started with Xamarin UI Components"},l={unversionedId:"sdk/sdk-xamarin-getting-started",id:"version-beta/sdk/sdk-xamarin-getting-started",isDocsHomePage:!1,title:"Getting started with Xamarin UI Components",description:"Before you can start using the Vertex Xamarin UI Components, you will need some application credentials and an access token. You should also import data into the platform to use with the viewer.",source:"@site/versioned_docs/version-beta/sdk/sdk-xamarin-getting-started.md",sourceDirName:"sdk",slug:"/sdk/sdk-xamarin-getting-started",permalink:"/docs/beta/sdk/sdk-xamarin-getting-started",editUrl:"https://github.com/Vertexvis/dev-portal/tree/main/versioned_docs/version-beta/sdk/sdk-xamarin-getting-started.md",version:"beta",frontMatter:{id:"sdk-xamarin-getting-started",title:"Getting started with Xamarin UI Components"},sidebar:"version-beta/docs",previous:{title:"Xamarin UI Components introduction",permalink:"/docs/beta/sdk/sdk-xamarin"}},d=[{value:"Installation",id:"installation",children:[{value:"NuGet",id:"nuget",children:[]}]},{value:"Loading a model",id:"loading-a-model",children:[{value:"Loading a model (iOS)",id:"loading-a-model-ios",children:[]},{value:"Loading a model (UWP)",id:"loading-a-model-uwp",children:[]}]}],m={toc:d};function p(e){var n=e.components,t=Object(i.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},m,t,{components:n,mdxType:"MDXLayout"}),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",{parentName:"div",className:"admonition-heading"},Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",{parentName:"h5",className:"admonition-icon"},Object(r.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(r.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(r.b)("div",{parentName:"div",className:"admonition-content"},Object(r.b)("p",{parentName:"div"},"Before you can start using the Vertex Xamarin UI Components, you will need some application credentials and an access token. You should also import data into the platform to use with the viewer."),Object(r.b)("p",{parentName:"div"},"For more information, see ",Object(r.b)("a",{parentName:"p",href:"../guides/authentication"},"Authentication")," and ",Object(r.b)("a",{parentName:"p",href:"../guides/importing-data"},"Importing Data"),"."))),Object(r.b)("h2",{id:"installation"},"Installation"),Object(r.b)("h3",{id:"nuget"},"NuGet"),Object(r.b)("p",null,"After adding the ",Object(r.b)("a",{parentName:"p",href:"https://www.nuget.org/packages/Vertexvis.Viewer/"},"Vertexvis.Viewer")," package, the Viewer View component will\nbe available from the ",Object(r.b)("inlineCode",{parentName:"p"},"Vertexvis.Viewer.Common")," namespace. An instance of the Viewer can then be constructed through XAML, with\nproperties set through data binding, or through pure C# using the provided constructors."),Object(r.b)(o.a,{defaultValue:"csharp",values:[{label:"C#",value:"csharp"},{label:"XAML",value:"xml"}],mdxType:"Tabs"},Object(r.b)(s.a,{value:"csharp",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-csharp"},"using Vertexvis.Viewer.Common;\nusing Xamarin.Forms;\n\nnamespace Example\n{\n    public class ExampleViewer : ContentView\n    {\n        public ExampleViewer()\n        {\n            InitializeComponent();\n\n            Content = new Viewer();\n        }\n    }\n}\n"))),Object(r.b)(s.a,{value:"xml",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n<ContentView\n    xmlns="http://xamarin.com/schemas/2014/forms"\n    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"\n    xmlns:c="clr-namespace:Vertexvis.Viewer.Common;assembly=Vertexvis.Viewer.Common"\n    x:Class="Example.ExampleViewer">\n    <ContentView.Content>\n        <c:Viewer\n            x:Name="viewer"\n            HorizontalOptions="FillAndExpand"\n            VerticalOptions="FillAndExpand" />\n    </ContentView.Content>\n</ContentView>\n')))),Object(r.b)("h2",{id:"loading-a-model"},"Loading a model"),Object(r.b)("p",null,"The first thing you'll want to do when working with the Viewer component is load a model. There are three primary ways\nto reference and load a 3D model from Vertex. Models can be referenced by ",Object(r.b)("inlineCode",{parentName:"p"},"fileId"),", ",Object(r.b)("inlineCode",{parentName:"p"},"externalId"),", or by ",Object(r.b)("inlineCode",{parentName:"p"},"sceneStateId"),".\nThe following example code demonstrates loading with all three types of identifiers."),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",{parentName:"div",className:"admonition-heading"},Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",{parentName:"h5",className:"admonition-icon"},Object(r.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(r.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(r.b)("div",{parentName:"div",className:"admonition-content"},Object(r.b)("p",{parentName:"div"},"If you are using iOS or the Universal Windows Platform, additional setup is required after completing this setup\nto load a model."),Object(r.b)("p",{parentName:"div"},"For details on how to prepare an iOS project to load a model, see ",Object(r.b)("a",{parentName:"p",href:"#loading-a-model-ios"},"the iOS steps"),"."),Object(r.b)("p",{parentName:"div"},"For details on how to prepare a UWP project to load a model, see ",Object(r.b)("a",{parentName:"p",href:"#loading-a-model-uwp"},"the UWP steps"),"."))),Object(r.b)(o.a,{defaultValue:"csharp",values:[{label:"C#",value:"csharp"},{label:"XAML",value:"xml"}],mdxType:"Tabs"},Object(r.b)(s.a,{value:"csharp",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-csharp"},'using System.Threading.Tasks;\nusing Vertexvis.Viewer.Common;\nusing Vertexvis.Viewer.Common.Scenes;\nusing Vertexvis.Viewer.Common.Types;\nusing Xamarin.Forms;\n\nnamespace Example\n{\n    public class ExampleViewer : ContentView\n    {\n        private Viewer viewer;\n\n        public ExampleViewer()\n        {\n            InitializeComponent();\n\n            viewer = new Viewer\n            {\n                AuthToken = AuthToken.OAuth2("your-generated-token", "your-client-id")\n            };\n\n            Content = viewer;\n\n            Task.Run(() => this.LoadModel());\n        }\n\n        private async Task LoadModel()\n        {\n            SceneBuilder sceneBuilder = await viewer.newScene();\n\n            // Loads a model by a specified externalId. An external ID can be\n            // assigned by you when uploading a file through our API.\n            string scene = await sceneBuilder\n              .From(Resource.FileByExternalId("your-external-id"))\n              .Execute();\n\n            // Loads a model by a Vertex fileId. You can retrieve the ID from the\n            // Vertex app by navigating into an uploaded model and copying the ID\n            // from the URL, e.g.\n            // https://app.vertexvis.com/file/2c2410ee-6ab9-45ee-a80b-255f2e20160e\n            scene = await sceneBuilder\n              .From(Resource.File("your-file-id"))\n              .Execute();\n\n            // Loads a model by a sceneStateId. This approach can be used to load\n            // a snapshot. The easiest way at the moment to get a snapshot\'s\n            // scene state ID is by using the browser\'s dev tools to inspect the\n            // network response for the  `GET /model_snapshot_versions` API call.\n            scene = await sceneBuilder\n              .From(Resource.SceneState("your-scene-state-id"))\n              .Execute();\n\n            await viewer.Load(scene);\n        }\n    }\n}\n'))),Object(r.b)(s.a,{value:"xml",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n<ContentView\n    xmlns="http://xamarin.com/schemas/2014/forms"\n    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"\n    xmlns:c="clr-namespace:Vertexvis.Viewer.Common;assembly=Vertexvis.Viewer.Common"\n    x:Class="Example.ExampleViewer">\n    <ContentView.Content>\n        <c:Viewer\n            x:Name="viewer"\n            AuthToken={Binding AuthToken}\n            HorizontalOptions="FillAndExpand"\n            VerticalOptions="FillAndExpand" />\n    </ContentView.Content>\n</ContentView>\n')),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-csharp"},'// C# code-behind\n\nusing System.Threading.Tasks;\nusing Vertexvis.Viewer.Common.Scenes;\nusing Vertexvis.Viewer.Common.Types;\nusing Xamarin.Forms;\n\nnamespace Example\n{\n    public partial class ExampleViewer : ContentView\n    {\n        public Resource Resource { get; set; }\n        public AuthToken AuthToken { get; set; }\n\n        public ExampleViewer()\n        {\n            InitializeComponent();\n\n            AuthToken = AuthToken.Oauth2("your-token", "your-client-id");\n\n            Task.Run(() => this.LoadModel());\n        }\n\n        private async Task LoadModel()\n        {\n            SceneBuilder sceneBuilder = await viewer.newScene();\n\n            // Loads a model by a specified externalId. An external ID can be\n            // assigned by you when uploading a file through our API.\n            string scene = await sceneBuilder\n              .From(Resource.FileByExternalId("your-external-id"))\n              .Execute();\n\n            // Loads a model by a Vertex fileId. You can retrieve the ID from the\n            // Vertex app by navigating into an uploaded model and copying the ID\n            // from the URL, e.g.\n            // https://app.vertexvis.com/file/2c2410ee-6ab9-45ee-a80b-255f2e20160e\n            scene = await sceneBuilder\n              .From(Resource.File("your-file-id"))\n              .Execute();\n\n            // Loads a model by a sceneStateId. This approach can be used to load\n            // a snapshot. The easiest way at the moment to get a snapshot\'s\n            // scene state ID is by using the browser\'s dev tools to inspect the\n            // network response for the  `GET /model_snapshot_versions` API call.\n            scene = await sceneBuilder\n              .From(Resource.SceneState("your-scene-state-id"))\n              .Execute();\n\n            await viewer.Load(scene);\n        }\n    }\n}\n')))),Object(r.b)("h3",{id:"loading-a-model-ios"},"Loading a model (iOS)"),Object(r.b)("p",null,"To load a model in an iOS application, you must also include\nsome of our WebView navigation handling. To do this, extend the ",Object(r.b)("inlineCode",{parentName:"p"},"HybridWebViewNavigationDelegate"),"\nclass provided in the ",Object(r.b)("inlineCode",{parentName:"p"},"Vertexvis.Viewer.iOS")," namespace, as shown below:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-csharp"},"using System;\nusing Vertexvis.Viewer.iOS;\n\nnamespace Example.iOS\n{\n    public class HybridWebViewNavigationDelegateProxy : HybridWebViewNavigationDelegate\n    {\n        public HybridWebViewNavigationDelegateProxy(Action onPageLoad)\n            : base(onPageLoad) { }\n    }\n}\n")),Object(r.b)("h3",{id:"loading-a-model-uwp"},"Loading a model (UWP)"),Object(r.b)("p",null,"To load a model in a UWP application, a supplementary ",Object(r.b)("a",{parentName:"p",href:"https://www.nuget.org/packages/Vertexvis.Viewer.Uwp/"},"Vertexvis.Viewer.Uwp"),"\nNuGet package is required. This package should be added to the UWP project for the application, and the\nVertexvis.Viewer package should still be present in the common project."))}p.isMDXComponent=!0},131:function(e,n,t){"use strict";t.d(n,"a",(function(){return m})),t.d(n,"b",(function(){return b}));var a=t(0),i=t.n(a);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var l=i.a.createContext({}),d=function(e){var n=i.a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},m=function(e){var n=d(e.components);return i.a.createElement(l.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return i.a.createElement(i.a.Fragment,{},n)}},u=i.a.forwardRef((function(e,n){var t=e.components,a=e.mdxType,r=e.originalType,o=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),m=d(t),u=a,b=m["".concat(o,".").concat(u)]||m[u]||p[u]||r;return t?i.a.createElement(b,s(s({ref:n},l),{},{components:t})):i.a.createElement(b,s({ref:n},l))}));function b(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,o=new Array(r);o[0]=u;var s={};for(var c in n)hasOwnProperty.call(n,c)&&(s[c]=n[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var l=2;l<r;l++)o[l]=t[l];return i.a.createElement.apply(null,o)}return i.a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},132:function(e,n,t){"use strict";function a(e){var n,t,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(t=a(e[n]))&&(i&&(i+=" "),i+=t);else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}n.a=function(){for(var e,n,t=0,i="";t<arguments.length;)(e=arguments[t++])&&(n=a(e))&&(i&&(i+=" "),i+=n);return i}},138:function(e,n,t){"use strict";var a=t(0),i=t(139);n.a=function(){var e=Object(a.useContext)(i.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},139:function(e,n,t){"use strict";var a=t(0),i=Object(a.createContext)(void 0);n.a=i},141:function(e,n,t){"use strict";var a=t(0),i=t.n(a),r=t(138),o=t(132),s=t(57),c=t.n(s);var l=37,d=39;n.a=function(e){var n=e.lazy,t=e.block,s=e.defaultValue,m=e.values,p=e.groupId,u=e.className,b=Object(r.a)(),h=b.tabGroupChoices,g=b.setTabGroupChoices,v=Object(a.useState)(s),w=v[0],f=v[1],x=a.Children.toArray(e.children),y=[];if(null!=p){var O=h[p];null!=O&&O!==w&&m.some((function(e){return e.value===O}))&&f(O)}var j=function(e){var n=e.currentTarget,t=y.indexOf(n),a=m[t].value;f(a),null!=p&&(g(p,a),setTimeout((function(){var e,t,a,i,r,o,s,l;(e=n.getBoundingClientRect(),t=e.top,a=e.left,i=e.bottom,r=e.right,o=window,s=o.innerHeight,l=o.innerWidth,t>=0&&r<=l&&i<=s&&a>=0)||(n.scrollIntoView({block:"center",behavior:"smooth"}),n.classList.add(c.a.tabItemActive),setTimeout((function(){return n.classList.remove(c.a.tabItemActive)}),2e3))}),150))},V=function(e){var n,t;switch(e.keyCode){case d:var a=y.indexOf(e.target)+1;t=y[a]||y[0];break;case l:var i=y.indexOf(e.target)-1;t=y[i]||y[y.length-1]}null===(n=t)||void 0===n||n.focus()};return i.a.createElement("div",{className:"tabs-container"},i.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(o.a)("tabs",{"tabs--block":t},u)},m.map((function(e){var n=e.value,t=e.label;return i.a.createElement("li",{role:"tab",tabIndex:w===n?0:-1,"aria-selected":w===n,className:Object(o.a)("tabs__item",c.a.tabItem,{"tabs__item--active":w===n}),key:n,ref:function(e){return y.push(e)},onKeyDown:V,onFocus:j,onClick:j},t)}))),n?Object(a.cloneElement)(x.filter((function(e){return e.props.value===w}))[0],{className:"margin-vert--md"}):i.a.createElement("div",{className:"margin-vert--md"},x.map((function(e,n){return Object(a.cloneElement)(e,{key:n,hidden:e.props.value!==w})}))))}},142:function(e,n,t){"use strict";var a=t(0),i=t.n(a);n.a=function(e){var n=e.children,t=e.hidden,a=e.className;return i.a.createElement("div",{role:"tabpanel",hidden:t,className:a},n)}}}]);