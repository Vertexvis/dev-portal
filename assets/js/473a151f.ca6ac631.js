"use strict";(self.webpackChunkdev_portal=self.webpackChunkdev_portal||[]).push([[4421],{3905:function(e,t,a){a.d(t,{Zo:function(){return p},kt:function(){return u}});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),d=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=d(e.components);return n.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),h=d(a),u=r,m=h["".concat(s,".").concat(u)]||h[u]||c[u]||l;return a?n.createElement(m,o(o({ref:t},p),{},{components:a})):n.createElement(m,o({ref:t},p))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,o=new Array(l);o[0]=h;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var d=2;d<l;d++)o[d]=a[d];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},5857:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return i},contentTitle:function(){return s},metadata:function(){return d},toc:function(){return p},default:function(){return h}});var n=a(7462),r=a(3366),l=(a(7294),a(3905)),o=["components"],i={id:"collaboration-apis",title:"Collaboration APIs",description:"Use Vertex Platform's collaboration APIs to communicate with team members."},s=void 0,d={unversionedId:"guides/collaboration-apis",id:"guides/collaboration-apis",title:"Collaboration APIs",description:"Use Vertex Platform's collaboration APIs to communicate with team members.",source:"@site/docs/guides/collaboration-apis.mdx",sourceDirName:"guides",slug:"/guides/collaboration-apis",permalink:"/docs/guides/collaboration-apis",editUrl:"https://github.com/Vertexvis/dev-portal/tree/main/docs/guides/collaboration-apis.mdx",tags:[],version:"current",frontMatter:{id:"collaboration-apis",title:"Collaboration APIs",description:"Use Vertex Platform's collaboration APIs to communicate with team members."},sidebar:"guidesSidebar",previous:{title:"Shared parts library",permalink:"/docs/guides/shared-parts-library"},next:{title:"User management",permalink:"/docs/guides/user-management"}},p=[{value:"Core Concepts",id:"core-concepts",children:[{value:"Collaboration Context",id:"collaboration-context",children:[],level:3},{value:"Thread",id:"thread",children:[],level:3},{value:"Reply",id:"reply",children:[],level:3},{value:"Attachment",id:"attachment",children:[],level:3}],level:2},{value:"Access Control",id:"access-control",children:[],level:2},{value:"API Usage",id:"api-usage",children:[{value:"Collaboration Contexts",id:"collaboration-contexts",children:[],level:3},{value:"Threads",id:"threads",children:[],level:3},{value:"Replies",id:"replies",children:[],level:3},{value:"Attachments",id:"attachments",children:[],level:3}],level:2},{value:"Example: End-to-End Flow",id:"example-end-to-end-flow",children:[{value:"Get an Application Access Token",id:"get-an-application-access-token",children:[],level:3},{value:"Create a User Group",id:"create-a-user-group",children:[],level:3},{value:"Create a User and Associate to User Group",id:"create-a-user-and-associate-to-user-group",children:[],level:3},{value:"Create a Collaboration Context",id:"create-a-collaboration-context",children:[],level:3},{value:"Associate a User Group with the Context",id:"associate-a-user-group-with-the-context",children:[],level:3},{value:"Perform a Token Exchange for a User Access Token",id:"perform-a-token-exchange-for-a-user-access-token",children:[],level:3},{value:"Create a Thread",id:"create-a-thread",children:[],level:3},{value:"Create a Reply",id:"create-a-reply",children:[],level:3}],level:2},{value:"Performing Actions on Threads and Replies",id:"performing-actions-on-threads-and-replies",children:[{value:"Update a Thread",id:"update-a-thread",children:[],level:3},{value:"List Threads for a Collaboration Context",id:"list-threads-for-a-collaboration-context",children:[],level:3},{value:"Delete a Thread",id:"delete-a-thread",children:[],level:3},{value:"Update a Reply",id:"update-a-reply",children:[],level:3},{value:"Delete a Reply",id:"delete-a-reply",children:[],level:3}],level:2},{value:"Thread and Reply Attachments",id:"thread-and-reply-attachments",children:[{value:"Create an Attachment",id:"create-an-attachment",children:[],level:3},{value:"List Attachments",id:"list-attachments",children:[],level:3},{value:"Create Upload Url For Attachment",id:"create-upload-url-for-attachment",children:[],level:3},{value:"Create Download Url For Attachment",id:"create-download-url-for-attachment",children:[],level:3}],level:2}],c={toc:p};function h(e){var t=e.components,a=(0,r.Z)(e,o);return(0,l.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"This guide explains the core concepts and API usage for enabling collaboration\nwithin your application using the Vertex Collaboration APIs. These APIs allow\nyour users to participate in structured discussions through contexts, threads,\nand replies."),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"This guide assumes that you have already configured authentication for\nyour deployment. Some APIs require a user access token obtained via ",(0,l.kt)("a",{parentName:"p",href:"./authentication#token-exchange-rfc8693"},"token\nexchange"),"."))),(0,l.kt)("h2",{id:"core-concepts"},"Core Concepts"),(0,l.kt)("h3",{id:"collaboration-context"},"Collaboration Context"),(0,l.kt)("p",null,"A ",(0,l.kt)("strong",{parentName:"p"},"Collaboration Context")," is a container for discussions related to a specific\nresource \u2014 such as a 3D model, a project, or a design session. Each context\ndefines who can participate via one or more associated ",(0,l.kt)("strong",{parentName:"p"},"User Groups"),"."),(0,l.kt)("h3",{id:"thread"},"Thread"),(0,l.kt)("p",null,"A ",(0,l.kt)("strong",{parentName:"p"},"Thread")," represents a focused discussion within a collaboration context.\nEach thread has two important properties that help categorize and manage\ndiscussions:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Type:")," A thread can be either an ",(0,l.kt)("inlineCode",{parentName:"p"},"issue")," or a ",(0,l.kt)("inlineCode",{parentName:"p"},"comment"),". An ",(0,l.kt)("inlineCode",{parentName:"p"},"issue")," thread\nis typically used to flag problems, bugs, or actionable items that may require\nresolution. A ",(0,l.kt)("inlineCode",{parentName:"p"},"comment")," thread is intended for general discussion, feedback,\nor non-blocking remarks.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Status:")," Threads have a status that indicates their current state. An\n",(0,l.kt)("inlineCode",{parentName:"p"},"open")," thread signifies an active discussion or unresolved issue, while a\n",(0,l.kt)("inlineCode",{parentName:"p"},"resolved")," thread indicates that the topic has been addressed or closed."))),(0,l.kt)("h3",{id:"reply"},"Reply"),(0,l.kt)("p",null,"A ",(0,l.kt)("strong",{parentName:"p"},"Reply")," is an individual message within a thread. Users can reply to threads\nto continue discussions, provide updates, or give feedback."),(0,l.kt)("h3",{id:"attachment"},"Attachment"),(0,l.kt)("p",null,"An ",(0,l.kt)("strong",{parentName:"p"},"Attachment")," is an additional linked relationship to a reply or a thread. Users can attach\nfiles and other kinds of data to be provided as additional context for a thread or reply."),(0,l.kt)("h2",{id:"access-control"},"Access Control"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Only users in the user groups associated with a context can interact with its\nthreads and replies."),(0,l.kt)("li",{parentName:"ul"},"Threads and replies ",(0,l.kt)("strong",{parentName:"li"},"require a user access token")," obtained through an\nRFC8693-compliant ",(0,l.kt)("a",{parentName:"li",href:"./authentication#token-exchange-rfc8693"},"token exchange process"),"."),(0,l.kt)("li",{parentName:"ul"},"Collaboration contexts are managed using ",(0,l.kt)("strong",{parentName:"li"},"application-level access tokens"),".")),(0,l.kt)("h2",{id:"api-usage"},"API Usage"),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"If calling these APIs from a browser, your deployment will need the\n",(0,l.kt)("inlineCode",{parentName:"p"},"CorsOrigin")," CloudFormation parameter for your deployment."))),(0,l.kt)("p",null,"See our ",(0,l.kt)("a",{parentName:"p",href:"https://docs.vertex3d.com"},"API reference")," for more details and examples\nof the Collaboration APIs."),(0,l.kt)("h3",{id:"collaboration-contexts"},"Collaboration Contexts"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Operation"),(0,l.kt)("th",{parentName:"tr",align:null},"Endpoint"),(0,l.kt)("th",{parentName:"tr",align:null},"Auth"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Create a context"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"POST /collaboration-contexts")),(0,l.kt)("td",{parentName:"tr",align:null},"App token")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Associate user groups to a context"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"POST /collaboration-contexts/{id}/user-groups")),(0,l.kt)("td",{parentName:"tr",align:null},"App token")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"List all contexts"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"GET /collaboration-contexts")),(0,l.kt)("td",{parentName:"tr",align:null},"App token")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Get a context by ID"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"GET /collaboration-contexts/{id}")),(0,l.kt)("td",{parentName:"tr",align:null},"App token")))),(0,l.kt)("h3",{id:"threads"},"Threads"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Operation"),(0,l.kt)("th",{parentName:"tr",align:null},"Endpoint"),(0,l.kt)("th",{parentName:"tr",align:null},"Auth"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Create a thread"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"POST /threads")),(0,l.kt)("td",{parentName:"tr",align:null},"User token")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"List threads by context"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"GET /threads?filter[collaborationContextId]={id}")),(0,l.kt)("td",{parentName:"tr",align:null},"User token")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Get thread by ID"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"GET /threads/{id}")),(0,l.kt)("td",{parentName:"tr",align:null},"User token")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Update a thread"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"PATCH /threads/{id}")),(0,l.kt)("td",{parentName:"tr",align:null},"User token")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Delete a thread"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"DELETE /threads/{id}")),(0,l.kt)("td",{parentName:"tr",align:null},"User token")))),(0,l.kt)("h3",{id:"replies"},"Replies"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Operation"),(0,l.kt)("th",{parentName:"tr",align:null},"Endpoint"),(0,l.kt)("th",{parentName:"tr",align:null},"Auth"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Create a reply"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"POST /replies")),(0,l.kt)("td",{parentName:"tr",align:null},"User token")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"List replies in thread"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"GET /replies?filter[threadId]={id}")),(0,l.kt)("td",{parentName:"tr",align:null},"User token")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Get reply by ID"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"GET /replies/{id}")),(0,l.kt)("td",{parentName:"tr",align:null},"User token")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Update a reply"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"PATCH /replies/{id}")),(0,l.kt)("td",{parentName:"tr",align:null},"User token")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Delete a reply"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"DELETE /replies/{id}")),(0,l.kt)("td",{parentName:"tr",align:null},"User token")))),(0,l.kt)("h3",{id:"attachments"},"Attachments"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Operation"),(0,l.kt)("th",{parentName:"tr",align:null},"Endpoint"),(0,l.kt)("th",{parentName:"tr",align:null},"Auth"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Create an attachment"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"POST /attachments")),(0,l.kt)("td",{parentName:"tr",align:null},"User token")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"List attachments for a thread or reply."),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"GET /attachments?filter[relationshipId]={threadOrReplyId}&filter[relationshipType]=threadOrReply")),(0,l.kt)("td",{parentName:"tr",align:null},"User token")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Create upload URL for file attachment"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"POST /attachments/{attachmentId}/upload-url")),(0,l.kt)("td",{parentName:"tr",align:null},"User token")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Create download URL for file attachment"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"POST /attachments/{attachmentId}/download-url")),(0,l.kt)("td",{parentName:"tr",align:null},"User token")))),(0,l.kt)("h2",{id:"example-end-to-end-flow"},"Example: End-to-End Flow"),(0,l.kt)("p",null,"This example demonstrates how to use the Collaboration APIs to enable a user to\nparticipate in a discussion:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("a",{parentName:"li",href:"#get-an-application-access-token"},"Get an application access token (for managing contexts)")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("a",{parentName:"li",href:"#create-a-user-group"},"Create a User Group")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("a",{parentName:"li",href:"#create-a-user-and-associate-to-user-group"},"Create a User and associate to User Group")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("a",{parentName:"li",href:"#create-a-collaboration-context"},"Create a collaboration context")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("a",{parentName:"li",href:"#associate-a-user-group-with-the-context"},"Associate a user group with the context")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("a",{parentName:"li",href:"#perform-a-token-exchange-for-a-user-access-token"},"Perform a token exchange for a user access token")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("a",{parentName:"li",href:"#create-a-thread"},"Create a thread")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("a",{parentName:"li",href:"#post-a-reply"},"Create a reply"))),(0,l.kt)("h3",{id:"get-an-application-access-token"},"Get an Application Access Token"),(0,l.kt)("p",null,"Use the ",(0,l.kt)("a",{parentName:"p",href:"./authentication#client-credentials"},"Client Credentials Flow")," to get a token for creating and managing\ncollaboration contexts and user groups."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'curl --location --request POST \\\n  --url "https://platform.vertexvis.com/oauth2/token" \\\n  --header "Authorization: Basic $(echo -n "[YOUR_CLIENT_ID]:[YOUR_CLIENT_SECRET]" | base64)" \\\n  --header "Content-Type: application/x-www-form-urlencoded" \\\n  --data-urlencode "grant_type=client_credentials"\n')),(0,l.kt)("h3",{id:"create-a-user-group"},"Create a User Group"),(0,l.kt)("p",null,"User groups define which users can participate in a collaboration context."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'curl --request POST \'https://platform.vertexvis.com/user-groups\' \\\n  --header \'Authorization: Bearer YOUR_ACCESS_TOKEN\' \\\n  --header \'Content-Type: application/vnd.api+json\' \\\n  --data \'{\n    "data": {\n      "type": "user-group",\n      "attributes": {\n        "name": "Design Reviewers"\n      }\n    }\n  }\'\n')),(0,l.kt)("h3",{id:"create-a-user-and-associate-to-user-group"},"Create a User and Associate to User Group"),(0,l.kt)("p",null,"Users must be created before they can participate in collaboration. When using\ntoken exchange, the user's ",(0,l.kt)("inlineCode",{parentName:"p"},"idpId")," should match the user ID from your external\nidentity provider."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'curl --request POST \'https://platform.vertexvis.com/users\' \\\n  --header \'Authorization: Bearer YOUR_ACCESS_TOKEN\' \\\n  --header \'Content-Type: application/vnd.api+json\' \\\n  --data \'{\n    "data": {\n      "type": "user",\n      "attributes": {\n        "fullName": "Jane Doe",\n        "email": "jane.doe@example.com",\n        "idpId": "00u123example"  // Must match the user ID from your IdP\n      }\n    }\n  }\'\n')),(0,l.kt)("p",null,"You can then assign the user to a user group:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'curl --request POST \'https://platform.vertexvis.com/user-groups/YOUR_USER_GROUP_ID/users\' \\\n  --header \'Authorization: Bearer YOUR_ACCESS_TOKEN\' \\\n  --header \'Content-Type: application/vnd.api+json\' \\\n  --data \'{\n    "data": [\n      { "type": "user", "id": "YOUR_USER_ID" }\n    ]\n  }\'\n')),(0,l.kt)("h3",{id:"create-a-collaboration-context"},"Create a Collaboration Context"),(0,l.kt)("p",null,"Create a collaboration context and save the returned context ID."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"curl --request POST 'https://platform.vertexvis.com/collaboration-contexts' \\\n  --header 'Authorization: Bearer YOUR_ACCESS_TOKEN' \\\n  --header 'Content-Type: application/vnd.api+json' \\\n  --data '{\n    \"data\": {\n      \"type\": \"collaboration-context\",\n      \"attributes\": {}\n    }\n  }'\n")),(0,l.kt)("h3",{id:"associate-a-user-group-with-the-context"},"Associate a User Group with the Context"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'curl --request POST \'https://platform.vertexvis.com/collaboration-contexts/YOUR_CONTEXT_ID/user-groups\' \\\n  --header \'Authorization: Bearer YOUR_ACCESS_TOKEN\' \\\n  --header \'Content-Type: application/vnd.api+json\' \\\n  --data \'{\n    "data": [\n      { "type": "user-group", "id": "YOUR_USER_GROUP_ID" }\n    ]\n  }\'\n')),(0,l.kt)("h3",{id:"perform-a-token-exchange-for-a-user-access-token"},"Perform a Token Exchange for a User Access Token"),(0,l.kt)("p",null,"Exchange an access token from your external identity provider (IdP) for a Vertex\naccess token."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"curl --request POST 'https://platform.vertexvis.com/token/exchange' \\\n  --header 'Authorization: Basic BASE64_ENCODED_CLIENT_ID_AND_SECRET' \\\n  --header 'Content-Type: application/x-www-form-urlencoded' \\\n  --data-urlencode 'grant_type=urn:ietf:params:oauth:grant-type:token-exchange' \\\n  --data-urlencode 'subject_token=EXTERNAL_IDP_ACCESS_TOKEN' \\\n  --data-urlencode 'subject_token_type=urn:ietf:params:oauth:token-type:access_token'\n")),(0,l.kt)("p",null,"This returns an opaque ",(0,l.kt)("inlineCode",{parentName:"p"},"access_token")," that represents the authenticated user.\nUse this ",(0,l.kt)("inlineCode",{parentName:"p"},"USER_ACCESS_TOKEN")," for all thread and reply operations."),(0,l.kt)("h3",{id:"create-a-thread"},"Create a Thread"),(0,l.kt)("p",null,"Create a thread save the returned thread ID."),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"this endpoint accepts an optional reference payload to associate reference data to scenes or other Vertex concepts."))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'curl --request POST \'https://platform.vertexvis.com/collaboration-contexts/YOUR_CONTEXT_ID/threads\' \\\n  --header \'Authorization: Bearer USER_ACCESS_TOKEN\' \\\n  --header \'Content-Type: application/vnd.api+json\' \\\n  --data \'{\n    "data": {\n      "type": "thread",\n      "attributes": {\n        "body": "Gap found in left flange",\n        "type": "issue",\n        "status": "open"\n      }\n    }\n  }\'\n')),(0,l.kt)("h3",{id:"create-a-reply"},"Create a Reply"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'curl --request POST \'https://platform.vertexvis.com/threads/YOUR_THREAD_ID/replies\' \\\n  --header \'Authorization: Bearer USER_ACCESS_TOKEN\' \\\n  --header \'Content-Type: application/vnd.api+json\' \\\n  --data \'{\n    "data": {\n      "type": "reply",\n      "attributes": {\n        "body": "We will update the CAD file to fix this issue."\n      }\n    }\n  }\'\n')),(0,l.kt)("h2",{id:"performing-actions-on-threads-and-replies"},"Performing Actions on Threads and Replies"),(0,l.kt)("p",null,"These endpoints demonstrate how to update and filter your threads and replies."),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("a",{parentName:"li",href:"#update-a-thread"},"Update a Thread")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("a",{parentName:"li",href:"#list-threads-for-a-collaboration-context"},"List Threads for a Collaboration Context")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("a",{parentName:"li",href:"#delete-a-thread"},"Delete a Thread")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("a",{parentName:"li",href:"#update-a-reply"},"Update a Reply")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("a",{parentName:"li",href:"#delete-a-reply"},"Delete a Reply"))),(0,l.kt)("h3",{id:"update-a-thread"},"Update a Thread"),(0,l.kt)("p",null,"Updates an existing thread to modify the body, title, status or other fields. You can update the drafting state when you are ready for your thread to be visible in a list request. Any fields you do not want to change can be omitted.\nEditing the title or body will result in a new field ",(0,l.kt)("inlineCode",{parentName:"p"},"editedAt")," to be populated on the thread, that will indicate the contents of the thread have been modified. Status and drafting state will not impact the ",(0,l.kt)("inlineCode",{parentName:"p"},"editedAt")," field."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'curl --request PATCH \'https://platform.vertexvis.com/threads/YOUR_THREAD_ID\' \\\n  --header \'Authorization: Bearer USER_ACCESS_TOKEN\' \\\n  --header \'Content-Type: application/vnd.api+json\' \\\n  --data \'{\n    "data": {\n      "attributes": {\n        "body": "Updated Body",\n        "isDrafting": false,\n        "status": "resolved",\n        "title": "Updated Title"\n      },\n      "type": "thread"\n    }\n  }\'\n')),(0,l.kt)("h3",{id:"list-threads-for-a-collaboration-context"},"List Threads for a Collaboration Context"),(0,l.kt)("p",null,"  Our APIs support listing threads for a collaboration context. Filtering by the thread status is an optional query parameter to allow filtering by the thread status.\nThese endpoints enable you to filter only open or only resolved thread within your collaboration context."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"curl --request GET 'https://platform.vertexvis.comthreads?filter[collaborationContextId]=YOUR_CONTEXT_ID&filter[threadStatus]=resolved' \\\n  --header 'Authorization: Bearer USER_ACCESS_TOKEN' \\\n  --header 'Content-Type: application/vnd.api+json'\n")),(0,l.kt)("h3",{id:"delete-a-thread"},"Delete a Thread"),(0,l.kt)("p",null,"If you wish to delete your thread instead of updating the state to resolved, this endpoint allows you to permanently delete the thread and all of its replies."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"curl --request DELETE 'https://platform.vertexvis.com/threads/YOUR_THREAD_ID' \\\n  --header 'Authorization: Bearer USER_ACCESS_TOKEN' \\\n  --header 'Content-Type: application/vnd.api+json'\n")),(0,l.kt)("h3",{id:"update-a-reply"},"Update a Reply"),(0,l.kt)("p",null,"Editing the body of a reply will result in a new field ",(0,l.kt)("inlineCode",{parentName:"p"},"editedAt")," to be populated on the reply, this field indicates that the reply has been modified from its original state. Drafting state will not impact the ",(0,l.kt)("inlineCode",{parentName:"p"},"editedAt")," field."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'curl --request PATCH \'https://platform.vertexvis.com/replies/YOUR_REPLY_ID\' \\\n  --header \'Authorization: Bearer USER_ACCESS_TOKEN\' \\\n  --header \'Content-Type: application/vnd.api+json\' \\\n  --data \'{\n    "data": {\n      "attributes": {\n        "body": "Updated reply body",\n        "isDrafting": false\n      },\n      "type": "reply"\n    }\n  }\'\n')),(0,l.kt)("h3",{id:"delete-a-reply"},"Delete a Reply"),(0,l.kt)("p",null,"Allows the owning user to permanently delete a reply"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"curl --request DELETE 'https://platform.vertexvis.com/replies/YOUR_REPLY_ID' \\\n  --header 'Authorization: Bearer USER_ACCESS_TOKEN' \\\n  --header 'Content-Type: application/vnd.api+json'\n")),(0,l.kt)("h2",{id:"thread-and-reply-attachments"},"Thread and Reply Attachments"),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"}," When building applications that leverage attachments, it is recommended to set your thread as drafted so that you can handle the asynchronous upload of your file data prior to your thread being visible to other users."))),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("a",{parentName:"li",href:"#create-an-attachment"},"Create an Attachment")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("a",{parentName:"li",href:"#list-attachments"},"List Attachments")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("a",{parentName:"li",href:"#create-upload-url-for-attachment"},"Create Upload Url For Attachment")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("a",{parentName:"li",href:"#create-download-url-for-attachment"},"Create Download Url For Attachment"))),(0,l.kt)("h3",{id:"create-an-attachment"},"Create an Attachment"),(0,l.kt)("p",null,"Create an attachment to be associated to either a reply or a thread. That relationship is specified within the request body.\nThe with-content is a oneOf type that may change in the future to support additional types of attachments. "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'curl --request POST \'https://platform.vertexvis.com/attachments\' \\\n  --header \'Authorization: Bearer USER_ACCESS_TOKEN\' \\\n  --header \'Content-Type: application/vnd.api+json\' \\\n  --data \'{\n    "data": {\n      "type": "attachment",\n      "attributes": {\n        "withContent": {\n          "type": "file-content",\n          "name": "The name of your file"\n        }\n      },\n      "relationships": {\n        "context": { "type": "thread", "id": "YOUR_THREAD_ID" }\n      }\n    }\n  }\'\n')),(0,l.kt)("h3",{id:"list-attachments"},"List Attachments"),(0,l.kt)("p",null,"Returns the attachments for a thread or a reply"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"curl --request GET 'https://platform.vertexvis.com/attachments?filter[relationshipId]={threadOrReplyId}&filter[relationshipType]=threadOrReply' \\\n  --header 'Authorization: Bearer USER_ACCESS_TOKEN' \\\n  --header 'Content-Type: application/vnd.api+json'\n")),(0,l.kt)("h3",{id:"create-upload-url-for-attachment"},"Create Upload Url For Attachment"),(0,l.kt)("p",null,"Creates an upload url for an attachment. This requires that the attachment is of ",(0,l.kt)("inlineCode",{parentName:"p"},"type"),".\nThe authoring user of the attachment is the only user allowed to create an upload url."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'curl --request POST \'https://platform.vertexvis.com/attachments/{attachmentId}/upload-url\' \\\n  --header \'Authorization: Bearer USER_ACCESS_TOKEN\' \\\n  --header \'Content-Type: application/vnd.api+json\' \\\n  --data \'{\n    "data": {\n        "type": "upload-url",\n        "attributes": {\n            "expiry": 3600\n        }\n    }\n}\'\n')),(0,l.kt)("h3",{id:"create-download-url-for-attachment"},"Create Download Url For Attachment"),(0,l.kt)("p",null,"Creates a download url for an attachment. This requires that the attachment is of ",(0,l.kt)("inlineCode",{parentName:"p"},"type"),".\nAnyone who has access to the Collaboration Context will have the ability to create a download url."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'curl --request POST \'https://platform.vertexvis.com/attachments/{attachmentId}/download-url\' \\\n  --header \'Authorization: Bearer USER_ACCESS_TOKEN\' \\\n  --header \'Content-Type: application/vnd.api+json\' \\\n  --data \'{\n    "data": {\n        "type": "download-url",\n        "attributes": {\n            "expiry": 3600\n        }\n    }\n}\'\n')))}h.isMDXComponent=!0}}]);